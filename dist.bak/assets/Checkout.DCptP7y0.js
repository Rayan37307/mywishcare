import{a as J,f as K,e as X,g as $,r as d,w,p as T,j as e,z as u,h as G}from"./index.rlwCrqap.js";import{c as N,p as U}from"./pixelConfirmationService.iV45kcXK.js";const Y=()=>{const{items:c,totalPrice:s,clearCart:q}=J(),{user:p,isAuthenticated:k}=K(),E=X(),{refreshOrders:S}=$(),[a,h]=d.useState({name:"",address1:"",district:"",phone:"",email:"",countryCode:"BD",marketingOptIn:!0,saveShippingInfo:!1,billingAddressSame:!0,billingName:"",billingAddress1:"",billingDistrict:"",paymentMethod:"cod",notes:""}),[m,F]=d.useState(""),[f,j]=d.useState(!1),[_,x]=d.useState(""),[D,C]=d.useState(""),[l,B]=d.useState(null),[y,b]=d.useState(!1),[v,z]=d.useState(null),P=d.useRef(!1),A=d.useRef(!1);d.useEffect(()=>()=>{if(!A.current&&c.length>0){const i={billing:{first_name:a.name,address_1:a.address1,state:a.district,country:a.countryCode,phone:a.phone,email:a.email},shipping:{first_name:a.name,address_1:a.address1,state:a.district,country:a.countryCode},line_items:c.map(n=>({product_id:n.product.id,quantity:n.quantity}))};w.createIncompleteOrder(i)}},[a,c]);const t=a.district.toLowerCase()==="dhaka"?61:a.district.toLowerCase()==="gazipur"||a.district.toLowerCase()==="narayanganj"?101:121;d.useEffect(()=>{k&&p&&h(i=>({...i,name:p.displayName||p.username,email:p.email||""}))},[k,p]),d.useEffect(()=>{if(c.length>0&&!P.current){const i=N.trackCheckoutStart(a,c,s);z(i),P.current=!0,T.trackCheckoutStart({value:s+t,currency:"BDT",contents:c.map(n=>({id:n.product.id,quantity:n.quantity,item_price:parseFloat(n.product.price.replace(/[^\d.-]/g,""))}))})}},[c,a,s]);const g=i=>{const{name:n,value:r,type:o}=i.target;h(O=>{const M={...O,[n]:o==="checkbox"?i.target.checked:r};return v&&N.trackFormChange(v,M),M})},I=async()=>{if(!m.trim())return x("Please enter a coupon code"),!1;j(!0),x(""),C("");try{const i=await w.getCouponByCode(m.trim());return i?m.trim().toLowerCase()==="wcbd5"&&s<2999?(x("Minimum purchase of BDT 2999 required for this coupon code"),j(!1),!1):i.minimum_amount&&parseFloat(i.minimum_amount)>s?(x(`Minimum order amount of BDT ${i.minimum_amount} required`),j(!1),!1):(C(`Coupon applied: ${i.code} (${i.discount_type==="percent"?i.amount+"%":"BDT"+i.amount} off)`),B(i),j(!1),!0):(x("Invalid coupon code"),j(!1),!1)}catch(i){return console.error("Error validating coupon:",i),x("Failed to validate coupon. Please try again."),j(!1),!1}},L=()=>{F(""),x(""),C(""),B(null)},R=async i=>{if(i.preventDefault(),b(!0),!a.name.trim()){u.error("Please enter your full name"),b(!1);return}if(!a.address1.trim()){u.error("Please enter your address"),b(!1);return}if(!a.district.trim()){u.error("Please select your district"),b(!1);return}if(!a.phone.trim()||a.phone.length<10){u.error("Please enter a valid phone number (at least 10 digits)"),b(!1);return}const n={payment_method:a.paymentMethod,payment_method_title:"Cash on Delivery",set_paid:!1,billing:{first_name:a.billingAddressSame?a.name:a.billingName,address_1:a.billingAddressSame?a.address1:a.billingAddress1,state:a.billingAddressSame?a.district:a.billingDistrict,country:a.countryCode,phone:a.phone},shipping:{first_name:a.name,address_1:a.address1,state:a.district,country:a.countryCode},line_items:c.map(r=>({product_id:r.product.id,quantity:r.quantity})),shipping_lines:[{method_id:"flat_rate",method_title:"Standard Shipping",total:t.toString()}],customer_note:a.notes};a.email&&(n.billing.email=a.email),l&&(n.coupon_lines=[{code:m.trim()}]),k&&p&&(n.customer_id=p.id);try{const r=await w.createOrder(n);if(r?.id){try{T.trackPurchase({value:s+t,currency:"BDT",contents:c.map(o=>({id:o.product.id,quantity:o.quantity,item_price:parseFloat(o.product.price.replace(/[^\d.-]/g,""))})),order_id:r.id.toString()})}catch(o){console.error("Pixel tracking error (purchase):",o)}try{U.trackOrder({orderId:r.id.toString(),value:s+t,currency:"BDT",contents:c.map(o=>({id:o.product.id,quantity:o.quantity,item_price:parseFloat(o.product.price.replace(/[^\d.-]/g,""))})),phone:a.phone,customerName:a.name,email:a.email,timestamp:Date.now()})}catch(o){console.error("Pixel confirmation tracking error:",o)}}v&&N.trackCheckoutComplete(v),u.success("Order placed successfully!"),q(),S&&await S(),A.current=!0,E(G.ORDER_SUCCESS,{state:{order:r,total:s}})}catch(r){console.error("Order placement error details:",{error:r,message:r?.message,name:r?.name,status:r?.status,response:r?.response}),r.message&&(r.message.includes("HTTP error")||r.message.includes("401")||r.message.includes("authentication"))?u.error("Failed to place order: API authentication issue. Please check WooCommerce API configuration."):r.message&&r.message.includes("404")?u.error("Failed to place order: API endpoint not found. Please check WooCommerce API configuration."):r.message&&(r.message.includes("Failed to fetch")||r.message.includes("NetworkError"))?u.error("Failed to place order: Network connection issue. Please check your internet connection and try again."):(u.error(`Failed to place order. Please try again. Error: ${r.message}`),console.log("API request failed. URL might be: https://wishcarebd.com/wp-json/wc/v3"))}finally{b(!1)}};return c.length===0?e.jsx("div",{className:"bg-white py-10 pb-24 lg:pb-10",children:e.jsxs("div",{className:"container mx-auto max-w-7xl p-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Checkout"}),e.jsx("p",{className:"text-lg",children:"Your cart is empty. Please add items to checkout."})]})}):e.jsx("div",{className:"bg-white py-10 pb-24 lg:pb-10",children:e.jsxs("div",{className:"container mx-auto max-w-7xl p-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Checkout"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{children:e.jsxs("form",{id:"checkoutForm",onSubmit:R,className:"space-y-8",children:[e.jsxs("section",{"aria-label":"Delivery",className:"border-b pb-8",children:[e.jsx("h2",{id:"deliveryAddress",className:"text-xl font-bold mb-6",children:"Delivery"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"Select960",className:"block text-sm font-medium mb-1",children:["Country/Region ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{name:"countryCode",id:"Select960",required:!0,value:"BD",onChange:g,autoComplete:"shipping country",className:"w-full px-4 py-3 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white min-h-[52px]",children:e.jsx("option",{value:"BD",children:"Bangladesh"})}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-700",children:e.jsx("svg",{className:"fill-current h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"name",name:"name",placeholder:"Full Name",required:!0,type:"text","aria-required":"true",value:a.name,onChange:g,autoComplete:"shipping name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[52px]"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"shipping-address1",className:"block text-sm font-medium mb-1",children:["Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"shipping-address1",name:"address1",placeholder:"Address",required:!0,type:"text","aria-autocomplete":"list","aria-expanded":"false","aria-required":"true","aria-labelledby":"shipping-address1-label","aria-haspopup":"listbox",role:"combobox",value:a.address1,onChange:g,autoComplete:"shipping address-line1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[52px]"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"Select961",className:"block text-sm font-medium mb-1",children:["District ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{name:"district",id:"Select961",required:!0,value:a.district,onChange:g,autoComplete:"shipping address-level1",className:"w-full px-4 py-3 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white min-h-[52px]",children:[e.jsx("option",{value:"",hidden:!0,disabled:!0,children:" "}),e.jsx("option",{value:"dhaka",children:"Dhaka"}),e.jsx("option",{value:"gazipur",children:"Gazipur"}),e.jsx("option",{value:"kishoreganj",children:"Kishoreganj"}),e.jsx("option",{value:"manikganj",children:"Manikganj"}),e.jsx("option",{value:"munshiganj",children:"Munshiganj"}),e.jsx("option",{value:"narayanganj",children:"Narayanganj"}),e.jsx("option",{value:"narsingdi",children:"Narsingdi"}),e.jsx("option",{value:"tangail",children:"Tangail"}),e.jsx("option",{value:"faridpur",children:"Faridpur"}),e.jsx("option",{value:"gopalganj",children:"Gopalganj"}),e.jsx("option",{value:"madaripur",children:"Madaripur"}),e.jsx("option",{value:"rajbari",children:"Rajbari"}),e.jsx("option",{value:"shariatpur",children:"Shariatpur"}),e.jsx("option",{value:"chattogram",children:"Chattogram"}),e.jsx("option",{value:"coxs-bazar",children:"Cox's Bazar"}),e.jsx("option",{value:"cumilla",children:"Cumilla"}),e.jsx("option",{value:"brahmanbaria",children:"Brahmanbaria"}),e.jsx("option",{value:"chandpur",children:"Chandpur"}),e.jsx("option",{value:"feni",children:"Feni"}),e.jsx("option",{value:"lakshmipur",children:"Lakshmipur"}),e.jsx("option",{value:"noakhali",children:"Noakhali"}),e.jsx("option",{value:"khagrachhari",children:"Khagrachhari"}),e.jsx("option",{value:"rangamati",children:"Rangamati"}),e.jsx("option",{value:"bandarban",children:"Bandarban"}),e.jsx("option",{value:"khulna",children:"Khulna"}),e.jsx("option",{value:"bagerhat",children:"Bagerhat"}),e.jsx("option",{value:"satkhira",children:"Satkhira"}),e.jsx("option",{value:"jessore",children:"Jessore"}),e.jsx("option",{value:"jhenaidah",children:"Jhenaidah"}),e.jsx("option",{value:"magura",children:"Magura"}),e.jsx("option",{value:"narail",children:"Narail"}),e.jsx("option",{value:"kushtia",children:"Kushtia"}),e.jsx("option",{value:"chuadanga",children:"Chuadanga"}),e.jsx("option",{value:"meherpur",children:"Meherpur"}),e.jsx("option",{value:"rajshahi",children:"Rajshahi"}),e.jsx("option",{value:"naogaon",children:"Naogaon"}),e.jsx("option",{value:"natore",children:"Natore"}),e.jsx("option",{value:"chapainawabganj",children:"Chapainawabganj"}),e.jsx("option",{value:"pabna",children:"Pabna"}),e.jsx("option",{value:"sirajganj",children:"Sirajganj"}),e.jsx("option",{value:"bogura",children:"Bogura"}),e.jsx("option",{value:"joypurhat",children:"Joypurhat"}),e.jsx("option",{value:"rangpur",children:"Rangpur"}),e.jsx("option",{value:"kurigram",children:"Kurigram"}),e.jsx("option",{value:"lalmonirhat",children:"Lalmonirhat"}),e.jsx("option",{value:"nilphamari",children:"Nilphamari"}),e.jsx("option",{value:"gaibandha",children:"Gaibandha"}),e.jsx("option",{value:"thakurgaon",children:"Thakurgaon"}),e.jsx("option",{value:"panchagarh",children:"Panchagarh"}),e.jsx("option",{value:"dinajpur",children:"Dinajpur"}),e.jsx("option",{value:"barishal",children:"Barishal"}),e.jsx("option",{value:"barguna",children:"Barguna"}),e.jsx("option",{value:"bhola",children:"Bhola"}),e.jsx("option",{value:"jhalokathi",children:"Jhalokathi"}),e.jsx("option",{value:"patuakhali",children:"Patuakhali"}),e.jsx("option",{value:"pirojpur",children:"Pirojpur"}),e.jsx("option",{value:"sylhet",children:"Sylhet"}),e.jsx("option",{value:"habiganj",children:"Habiganj"}),e.jsx("option",{value:"moulvibazar",children:"Moulvibazar"}),e.jsx("option",{value:"sunamganj",children:"Sunamganj"}),e.jsx("option",{value:"mymensingh",children:"Mymensingh"}),e.jsx("option",{value:"jamalpur",children:"Jamalpur"}),e.jsx("option",{value:"sherpur",children:"Sherpur"}),e.jsx("option",{value:"netrokona",children:"Netrokona"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-700",children:e.jsx("svg",{className:"fill-current h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"TextField4448",className:"block text-sm font-medium mb-1",children:["Phone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-3",children:[e.jsx("img",{src:"https://flagcdn.com/w20/bd.png",alt:"Bangladesh Flag",className:"w-5 h-4 object-cover"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"+880"})]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsx("input",{id:"TextField4448",name:"phone",placeholder:"1XXXXXXXXX",required:!0,type:"tel",inputMode:"numeric",pattern:"[0-9]{10,11}","aria-required":"true",value:a.phone,onChange:i=>{const n=i.target.value.replace(/[^0-9]/g,"");n.length<=11&&(h(r=>({...r,phone:n})),v&&N.trackFormChange(v,{...a,phone:n}))},title:"Enter a valid Bangladeshi phone number (without +880) - 10 or 11 digits",autoComplete:"tel-national",className:"w-full px-4 py-3 focus:outline-none text-gray-800 min-h-[52px]"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter your phone number without the +880 prefix"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email (optional)"}),e.jsx("input",{id:"email",name:"email",placeholder:"Email (optional)",type:"email",inputMode:"email","aria-required":"false",value:a.email,onChange:g,autoComplete:"shipping email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[52px]"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"save_shipping_information",name:"saveShippingInfo",checked:a.saveShippingInfo,onChange:g,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"save_shipping_information",className:"text-sm text-gray-700",children:"Save this information for next time"})]})]}),e.jsxs("section",{"aria-label":"Payment",className:"border-b pb-8",children:[e.jsx("h2",{id:"payment",className:"text-xl font-bold mb-4",children:"Payment"}),e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"border rounded-lg p-4 bg-blue-50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"radio",id:"basic-cod",name:"paymentMethod",value:"cod",checked:a.paymentMethod==="cod",onChange:g,"aria-label":"Cash On Delivery",className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500",defaultChecked:!0}),e.jsx("label",{htmlFor:"basic-cod",className:"font-medium",children:"Cash On Delivery (CoD)"})]})})}),e.jsxs("div",{className:"mt-6 p-4 border rounded-lg bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-medium mb-3",children:"Have a discount code?"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("input",{type:"text",value:m,onChange:i=>F(i.target.value),placeholder:"Enter coupon code",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:f||l!==null}),l?e.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",disabled:f,children:"Remove"}):e.jsx("button",{type:"button",onClick:I,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",disabled:f||!m.trim(),children:f?"Applying...":"Apply"})]}),_&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:_}),D&&e.jsx("p",{className:"text-green-500 text-sm mt-2",children:D})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-3",children:"Billing address"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"billing_address_selector-shipping_address",name:"billingAddressSame",value:"true",checked:a.billingAddressSame,onChange:()=>h(i=>({...i,billingAddressSame:!0})),"aria-label":"Same as shipping address",className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"billing_address_selector-shipping_address",children:"Same as shipping address"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"billing_address_selector-custom_billing_address",name:"billingAddressSame",value:"false",checked:!a.billingAddressSame,onChange:()=>h(i=>({...i,billingAddressSame:!1})),"aria-label":"Use a different billing address",className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"billing_address_selector-custom_billing_address",children:"Use a different billing address"})]})]}),!a.billingAddressSame&&e.jsxs("div",{className:"mt-4 space-y-4 border-t pt-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"billing-name",className:"block text-sm font-medium mb-1",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"billing-name",name:"billingName",placeholder:"Full Name",type:"text",value:a.billingName||"",onChange:i=>h(n=>({...n,billingName:i.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[52px]"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"billing-address1",className:"block text-sm font-medium mb-1",children:["Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"billing-address1",name:"billingAddress1",placeholder:"Address",type:"text",value:a.billingAddress1||"",onChange:i=>h(n=>({...n,billingAddress1:i.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[52px]"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"billing-district",className:"block text-sm font-medium mb-1",children:["District ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"billingDistrict",id:"billing-district",value:a.billingDistrict||"",onChange:i=>h(n=>({...n,billingDistrict:i.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[52px]",children:[e.jsx("option",{value:"",hidden:!0,disabled:!0,children:" "}),e.jsx("option",{value:"dhaka",children:"Dhaka"}),e.jsx("option",{value:"gazipur",children:"Gazipur"}),e.jsx("option",{value:"kishoreganj",children:"Kishoreganj"}),e.jsx("option",{value:"manikganj",children:"Manikganj"}),e.jsx("option",{value:"munshiganj",children:"Munshiganj"}),e.jsx("option",{value:"narayanganj",children:"Narayanganj"}),e.jsx("option",{value:"narsingdi",children:"Narsingdi"}),e.jsx("option",{value:"tangail",children:"Tangail"}),e.jsx("option",{value:"faridpur",children:"Faridpur"}),e.jsx("option",{value:"gopalganj",children:"Gopalganj"}),e.jsx("option",{value:"madaripur",children:"Madaripur"}),e.jsx("option",{value:"rajbari",children:"Rajbari"}),e.jsx("option",{value:"shariatpur",children:"Shariatpur"}),e.jsx("option",{value:"chattogram",children:"Chattogram"}),e.jsx("option",{value:"coxs-bazar",children:"Cox's Bazar"}),e.jsx("option",{value:"cumilla",children:"Cumilla"}),e.jsx("option",{value:"brahmanbaria",children:"Brahmanbaria"}),e.jsx("option",{value:"chandpur",children:"Chandpur"}),e.jsx("option",{value:"feni",children:"Feni"}),e.jsx("option",{value:"lakshmipur",children:"Lakshmipur"}),e.jsx("option",{value:"noakhali",children:"Noakhali"}),e.jsx("option",{value:"khagrachhari",children:"Khagrachhari"}),e.jsx("option",{value:"rangamati",children:"Rangamati"}),e.jsx("option",{value:"bandarban",children:"Bandarban"}),e.jsx("option",{value:"khulna",children:"Khulna"}),e.jsx("option",{value:"bagerhat",children:"Bagerhat"}),e.jsx("option",{value:"satkhira",children:"Satkhira"}),e.jsx("option",{value:"jessore",children:"Jessore"}),e.jsx("option",{value:"jhenaidah",children:"Jhenaidah"}),e.jsx("option",{value:"magura",children:"Magura"}),e.jsx("option",{value:"narail",children:"Narail"}),e.jsx("option",{value:"kushtia",children:"Kushtia"}),e.jsx("option",{value:"chuadanga",children:"Chuadanga"}),e.jsx("option",{value:"meherpur",children:"Meherpur"}),e.jsx("option",{value:"rajshahi",children:"Rajshahi"}),e.jsx("option",{value:"naogaon",children:"Naogaon"}),e.jsx("option",{value:"natore",children:"Natore"}),e.jsx("option",{value:"chapainawabganj",children:"Chapainawabganj"}),e.jsx("option",{value:"pabna",children:"Pabna"}),e.jsx("option",{value:"sirajganj",children:"Sirajganj"}),e.jsx("option",{value:"bogura",children:"Bogura"}),e.jsx("option",{value:"joypurhat",children:"Joypurhat"}),e.jsx("option",{value:"rangpur",children:"Rangpur"}),e.jsx("option",{value:"kurigram",children:"Kurigram"}),e.jsx("option",{value:"lalmonirhat",children:"Lalmonirhat"}),e.jsx("option",{value:"nilphamari",children:"Nilphamari"}),e.jsx("option",{value:"gaibandha",children:"Gaibandha"}),e.jsx("option",{value:"thakurgaon",children:"Thakurgaon"}),e.jsx("option",{value:"panchagarh",children:"Panchagarh"}),e.jsx("option",{value:"dinajpur",children:"Dinajpur"}),e.jsx("option",{value:"barishal",children:"Barishal"}),e.jsx("option",{value:"barguna",children:"Barguna"}),e.jsx("option",{value:"bhola",children:"Bhola"}),e.jsx("option",{value:"jhalokathi",children:"Jhalokathi"}),e.jsx("option",{value:"patuakhali",children:"Patuakhali"}),e.jsx("option",{value:"pirojpur",children:"Pirojpur"}),e.jsx("option",{value:"sylhet",children:"Sylhet"}),e.jsx("option",{value:"habiganj",children:"Habiganj"}),e.jsx("option",{value:"moulvibazar",children:"Moulvibazar"}),e.jsx("option",{value:"sunamganj",children:"Sunamganj"}),e.jsx("option",{value:"mymensingh",children:"Mymensingh"}),e.jsx("option",{value:"jamalpur",children:"Jamalpur"}),e.jsx("option",{value:"sherpur",children:"Sherpur"}),e.jsx("option",{value:"netrokona",children:"Netrokona"})]})]})]})]})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("button",{type:"submit",disabled:y,className:"w-full py-4 bg-black text-white font-bold uppercase text-base",children:y?"Processing...":`Pay BDT 
                    ${l?l.discount_type==="percent"?(s-s*parseFloat(l.amount)/100+t).toFixed(2):(s-parseFloat(l.amount)+t).toFixed(2):(s+t).toFixed(2)}`})}),e.jsx("div",{className:"lg:hidden mt-4 fixed bottom-0 left-0 right-0 z-10 bg-white p-4 border-t",children:e.jsx("button",{type:"submit",disabled:y,className:"w-full py-4 bg-black text-white font-bold uppercase text-base",children:y?"Processing...":`Pay BDT 
                    ${l?l.discount_type==="percent"?(s-s*parseFloat(l.amount)/100+t).toFixed(2):(s-parseFloat(l.amount)+t).toFixed(2):(s+t).toFixed(2)}`})})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),e.jsxs("div",{className:"border p-4 rounded-lg",children:[c.map(i=>e.jsxs("div",{className:"flex justify-between py-3 border-b",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:i.product.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",i.quantity]})]}),e.jsxs("p",{children:["BDT ",(parseFloat(i.product.price.replace(/[^\d.-]/g,""))*i.quantity).toFixed(2)]})]},i.product.id)),e.jsxs("div",{className:"space-y-3 mt-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["BDT ",s.toFixed(2)]})]}),l&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Discount (",m,"): "]}),e.jsx("span",{className:"text-red-600",children:l.discount_type==="percent"?`-${l.amount}%`:`-BDT${l.amount}`})]}),e.jsxs("div",{className:"flex justify-between",children:[" ",e.jsx("span",{children:"Shipping"})," ",e.jsxs("span",{children:["BDT ",t.toFixed(2)]})," "]}),e.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[e.jsx("span",{children:"Payment Method"}),e.jsx("span",{children:"Cash on Delivery"})]}),e.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t text-lg",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["BDT",l?l.discount_type==="percent"?(s-s*parseFloat(l.amount)/100+t).toFixed(2):(s-parseFloat(l.amount)+t).toFixed(2):(s+t).toFixed(2)]})]})]})]})]})]})]})})};export{Y as default};
